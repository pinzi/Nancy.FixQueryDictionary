name: GitHub Actions
on: [push]
jobs:
  Explore-GitHub-Actions:
    runs-on: ubuntu-latest
    steps:
      - run: echo "ğŸ‰ è¯¥ä½œä¸šç”±${{github.event_name}}äº‹ä»¶è‡ªåŠ¨è§¦å‘"
      - run: echo "ğŸ§ æ­¤ä½œä¸šç°åœ¨æ­£åœ¨GitHubæ‰˜ç®¡çš„${{runner.os}}æœåŠ¡å™¨ä¸Šè¿è¡Œ"
      - run: echo "ğŸ” åˆ†æ”¯çš„åç§°æ˜¯${{github.ref}}ï¼Œå­˜å‚¨åº“æ˜¯${{github.repository}}"
      - name: ç­¾å‡ºå­˜å‚¨åº“ä»£ç 
        uses: actions/checkout@v2
      - run: echo "ğŸ’¡ ${{github.repository}}å­˜å‚¨åº“å·²å…‹éš†åˆ°è¿è¡Œç¨‹åº"
      - run: echo "ğŸ–¥ï¸ å·¥ä½œæµç°åœ¨å¯ä»¥åœ¨è¿è¡Œç¨‹åºä¸Šæµ‹è¯•ä»£ç äº†"
      - name: åˆ—å‡ºå­˜å‚¨åº“ä¸­çš„æ–‡ä»¶
        run: |
          ls ${{ github.workspace }}
      - run: echo "ğŸ æ­¤ä½œä¸šçš„çŠ¶æ€ä¸º${{job.status}}"
      - name: å®‰è£…nuget 
        uses: nuget/setup-nuget@v1
        with:        
            nuget-version: '5.x'
      - name: æ‰“åŒ…nuget package
        run: |
            nuget pack ./NugetPublish/Release/Nancy.FixQueryDictionary.nuspec            
      - name: å‘å¸ƒåˆ°github
            nuget push ./NugetPublish/Release/*.nupkg -Source github -SkipDuplicate
      - name: å‘å¸ƒåˆ°NuGet
        # You may pin to the exact commit or the version.
        # uses: brandedoutcast/publish-nuget@c12b8546b67672ee38ac87bea491ac94a587f7cc
        uses: brandedoutcast/publish-nuget@v2.5.5
        with:
          # nuget package åç§°
          PACKAGE_NAME: Nancy.FixQueryDictionary
          # Filepath with version info, relative to root of repository & defaults to PROJECT_FILE_PATH
          # nuget package å‘å¸ƒapikey
          NUGET_KEY: ${{secrets.nuget_ApiKey}}
